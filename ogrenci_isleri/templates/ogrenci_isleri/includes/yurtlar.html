{% extends 'ogrenci_isleri/base.html' %}
{% load static %}
{% block title %}Avrasya Üniversitesi - Yurtlar{% endblock %}

{% block content %}

<!-- Hero Section -->
<section class="research-hero">
    <div class="container">
        <div class="research-hero-content">
            <h1>Yurtlar</h1>
            <p>Avrasya Üniversitesi Öğrenci Yurtları - Konforlu ve Güvenli Yaşam Alanları</p>
        </div>
    </div>
</section>

<div class="container-fluid main-container">
    <div class="row g-4">
        <!-- سایدبار سمت چپ -->
        <div class="col-lg-3 col-xxl-2">
            <div class="sidebar-wrapper">
                {% include 'ogrenci_isleri/orenci_sidebar.html' %}
            </div>
        </div>
        
        <!-- محتوای اصلی -->
        <div class="col-lg-9 col-xxl-10">
            <div class="content-wrapper">
                <div class="page-intro">
                    <h1 class="section-title">Öğrenci Yurtları</h1>
                    <p class="section-subtitle">Avrasya Üniversitesi öğrencilerine modern, konforlu ve güvenli yurt imkanları sunmaktadır. Yeşil ile mavinin buluştuğu bu tesislerde öğrencilerimiz için en iyi yaşam ortamını sağlıyoruz.</p>
                </div>
                
                <!-- اطلاعات کلی خوابگاه‌ها -->
                <div class="row mb-5">
                    <div class="col-md-8">
                        <div class="highlight-box">
                            <h4><i class="fas fa-home"></i> Yurtlarımız Hakkında</h4>
                            <p style="text-align: justify;">Trabzon Merkez ve havaalanına 5 dk. uzaklıkta, 2 ve 3 kişilik oda kapasitelerine sahip yurtlarımızla öğrencilerimizin barınma ihtiyaçlarının karşılanmasına azami gayret göstermekteyiz.</p>
                            <p style="text-align: justify;">Ömer Yıldız Yerleşkemizde 10 blok halinde toplamda 400 kişi kapasiteli kız ve erkek öğrencilerimiz yurtlarımızla hizmet sunmaktayız.</p>
                            <p style="text-align: justify;">Yurtlarımız deniz manzaralıdır. Yeşil ile mavinin buluştuğu tesislerimizde restoran, fitness, sauna, kuaför, kafeteryalar mevcuttur. Öğrencilerin, ders başarılarını yüksek seviyede tutmaları amacına yönelik olarak etüt salonu, internet imkânı bulunmaktadır. Bunun yanında, uydu yayınıyla dünya kanallarını seyredebilme imkânı da sunulmaktadır.</p>
                            <p style="text-align: justify;">Yurtlarımızda kalan öğrenciler için çeşitli oryantasyon programları düzenlenmektedir. Öğrencinin memnuniyetini ölçen anketler yapılmakta olup öğrencilerin ders dışı vakitlerini daha iyi değerlendirebilmeleri için çeşitli geziler, sportif ve kültürel etkinlikler organize edilmektedir.</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="info-cards-container">
                            <div class="info-card">
                                <div class="info-card-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <h5>Kapasite</h5>
                                <p class="info-card-number">400 Kişi</p>
                                <p class="info-card-desc">Toplam Öğrenci Kapasitesi</p>
                            </div>
                            
                            <div class="info-card">
                                <div class="info-card-icon">
                                    <i class="fas fa-building"></i>
                                </div>
                                <h5>Blok Sayısı</h5>
                                <p class="info-card-number">10 Blok</p>
                                <p class="info-card-desc">Kız ve Erkek Öğrenciler İçin</p>
                            </div>
                            
                            <div class="info-card">
                                <div class="info-card-icon">
                                    <i class="fas fa-bed"></i>
                                </div>
                                <h5>Oda Tipi</h5>
                                <p class="info-card-number">2-3 Kişilik</p>
                                <p class="info-card-desc">Modern ve Konforlu Odalar</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- امکانات خوابگاه‌ها -->
                <div class="facilities-section mb-5">
                    <h3 class="section-sub-heading"><i class="fas fa-star"></i> Yurtlarımızın Sunduğu İmkanlar</h3>
                    
                    <div class="facilities-container">
                        <div class="facility-card">
                            <div class="facility-icon">
                                <i class="fas fa-utensils"></i>
                            </div>
                            <h5>Restoran & Kafeterya</h5>
                            <p>Lezzetli ve sağlıklı yemek seçenekleri</p>
                        </div>
                        
                        <div class="facility-card">
                            <div class="facility-icon">
                                <i class="fas fa-swimming-pool"></i>
                            </div>
                            <h5>Fitness Center</h5>
                            <p>Modern spor ekipmanları ve salonu</p>
                        </div>
                        
                        <div class="facility-card">
                            <div class="facility-icon">
                                <i class="fas fa-wifi"></i>
                            </div>
                            <h5>İnternet Erişimi</h5>
                            <p>Hızlı ve kesintisiz internet bağlantısı</p>
                        </div>
                        
                        <div class="facility-card">
                            <div class="facility-icon">
                                <i class="fas fa-book"></i>
                            </div>
                            <h5>Etüt Salonu</h5>
                            <p>Sessiz ve huzurlu çalışma ortamı</p>
                        </div>
                        
                        <div class="facility-card">
                            <div class="facility-icon">
                                <i class="fas fa-satellite-dish"></i>
                            </div>
                            <h5>Uydu TV</h5>
                            <p>Dünya kanallarını izleme imkanı</p>
                        </div>
                        
                        <div class="facility-card">
                            <div class="facility-icon">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                            <h5>Sosyal Etkinlikler</h5>
                            <p>Kültürel ve sportif aktiviteler</p>
                        </div>
                    </div>
                </div>
                
                <!-- گالری عکس -->
                <div class="gallery-section mb-5">
                    <h3 class="section-sub-heading"><i class="fas fa-images"></i> Yurtlarımızdan Görüntüler</h3>
                    <p class="gallery-description">Modern, temiz ve konforlu yurtlarımızı yakından tanıyın.</p>
                    
                    <div class="gallery-container" id="galleryContainer">
                        <!-- تصاویر اصلی -->
                        <div class="gallery-main">
                            <div class="main-image-container">
                                <img id="mainGalleryImage" src="https://avrasya.edu.tr/wp-content/uploads/2021/02/avrasya-universitesi-yurtlar-132-960x400-1-800x333.jpg" alt="Avrasya Üniversitesi Yurtları">
                                <div class="image-overlay">
                                    <button class="zoom-btn" onclick="zoomImage()">
                                        <i class="fas fa-search-plus"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="image-info">
                                <h4 id="imageTitle">Avrasya Üniversitesi Yurtları</h4>
                                <p id="imageDesc">Deniz manzaralı modern yurt binalarımız</p>
                                <div class="image-counter">
                                    <span id="currentImage">1</span> / <span id="totalImages">12</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- تصاویر کوچک -->
                        <div class="gallery-thumbnails">
                            <!-- تصاویر از فایل txt -->
                            <div class="thumbnail active" data-index="1" 
                                 data-src="{% static 'core/img/yurtlar/yurtlar1.jpg' %}"
                                 data-title="Avrasya Üniversitesi Yurtları"
                                 data-desc="Deniz manzaralı modern yurt binalarımız">
                                <img src="{% static 'core/img/yurtlar/yurtlar1.jpg' %}" alt="Yurt 1">
                            </div>
                            
                            <div class="thumbnail" data-index="2"
                                 data-src="{% static 'core/img/yurtlar/yurtlar2.jpg' %}"
                                 data-title="Yurt Odaları"
                                 data-desc="2-3 kişilik konforlu yurt odalarımız">
                                <img src="{% static 'core/img/yurtlar/yurtlar2.jpg' %}" alt="Yurt 2">
                            </div>
                            
                            <div class="thumbnail" data-index="3"
                                 data-src="{% static 'core/img/yurtlar/yurtlar3.jpg' %}"
                                 data-title="Ortak Alanlar"
                                 data-desc="Öğrencilerimizin sosyalleşebileceği ortak alanlar">
                                <img src="{% static 'core/img/yurtlar/yurtlar3.jpg' %}" alt="Yurt 3">
                            </div>
                            
                            <div class="thumbnail" data-index="4"
                                 data-src="{% static 'core/img/yurtlar/yurtlar4.jpg' %}"
                                 data-title="Çalışma Odaları"
                                 data-desc="Etüt ve çalışma için özel alanlar">
                                <img src="{% static 'core/img/yurtlar/yurtlar4.jpg' %}" alt="Yurt 4">
                            </div>
                            
                            <div class="thumbnail" data-index="5"
                                 data-src="{% static 'core/img/yurtlar/yurtlar5.jpg' %}"
                                 data-title="Dinlenme Alanları"
                                 data-desc="Rahat ve konforlu dinlenme alanları">
                                <img src="{% static 'core/img/yurtlar/yurtlar5.jpg' %}" alt="Yurt 5">
                            </div>
                            
                            <div class="thumbnail" data-index="6"
                                 data-src="{% static 'core/img/yurtlar/yurtlar6.jpg' %}g"
                                 data-title="Yurt Koridorları"
                                 data-desc="Temiz ve ferah yurt koridorlarımız">
                                <img src="{% static 'core/img/yurtlar/yurtlar6.jpg' %}" alt="Yurt 6">
                            </div>
                            
                            <div class="thumbnail" data-index="7"
                                 data-src="{% static 'core/img/yurtlar/yurtlar7.jpg' %}"
                                 data-title="Banyo ve WC"
                                 data-desc="Modern ve hijyenik banyo alanları">
                                <img src="{% static 'core/img/yurtlar/yurtlar7.jpg' %}" alt="Yurt 7">
                            </div>
                            
                            <div class="thumbnail" data-index="8"
                                 data-src="{% static 'core/img/yurtlar/yurtlar8.jpg' %}"
                                 data-title="Mutfak Alanı"
                                 data-desc="Öğrencilerin kullanımına açık mutfak">
                                <img src="{% static 'core/img/yurtlar/yurtlar8.jpg' %}" alt="Yurt 8">
                            </div>
                            
                            <div class="thumbnail" data-index="9"
                                 data-src="{% static 'core/img/yurtlar/yurtlar9.jpg' %}"
                                 data-title="Dış Görünüm"
                                 data-desc="Yurtlarımızın dış görünümü">
                                <img src="{% static 'core/img/yurtlar/yurtlar9.jpg' %}" alt="Yurt 9">
                            </div>
                            
                            <div class="thumbnail" data-index="10"
                                 data-src="{% static 'core/img/yurtlar/yurtlar10.jpg' %}"
                                 data-title="Oda İçi"
                                 data-desc="Yurt odalarımızın iç görünümü">
                                <img src="{% static 'core/img/yurtlar/yurtlar10.jpg' %}" alt="Yurt 10">
                            </div>
                            
                            <div class="thumbnail" data-index="11"
                                 data-src="{% static 'core/img/yurtlar/yurtlar11.jpg' %}"
                                 data-title="Genel Görünüm"
                                 data-desc="Yurtlarımızın genel görünümü">
                                <img src="{% static 'core/img/yurtlar/yurtlar11.jpg' %}" alt="Yurt 11">
                            </div>
                            
                            <div class="thumbnail" data-index="12"
                                 data-src="{% static 'core/img/yurtlar/yurtlar12.jpg' %}"
                                 data-title="Yurt Bahçesi"
                                 data-desc="Yurt bahçemiz ve yeşil alanlar">
                                <img src="{% static 'core/img/yurtlar/yurtlar12.jpg' %}" alt="Yurt 12">
                            </div>
                        </div>
                        
                        <!-- کنترل‌های گالری -->
                        <div class="gallery-controls">
                            <button class="gallery-btn prev-btn" onclick="prevImage()">
                                <i class="fas fa-chevron-left"></i> Önceki
                            </button>
                            <button class="gallery-btn next-btn" onclick="nextImage()">
                                Sonraki <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- ویدیو بخش -->
                <div class="video-container">
    {% comment %} <div class="video-wrapper">
        <iframe 
            src="https://www.youtube-nocookie.com/embed/c_VvosqZZMo?rel=0&modestbranding=1&showinfo=0&enablejsapi=1&origin=https://avrasya.edu.tr" 
            title="Avrasya Üniversitesi Yurtları Tanıtım Videosu"
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen
            loading="lazy"
            sandbox="allow-same-origin allow-scripts allow-popups allow-presentation"
            referrerpolicy="strict-origin-when-cross-origin">
        </iframe>
    </div> {% endcomment %}
    <div class="video-info">
        <h5>Avrasya Üniversitesi Yurtları Tanıtım Videosu</h5>
        <p>Öğrencilerimizin yurt hayatı, odalar, ortak alanlar ve sunduğumuz imkanlar hakkında detaylı bilgi edinin.</p>
        <p class="video-link">
            <a href="https://www.youtube.com/watch?v=c_VvosqZZMo" target="_blank" rel="noopener noreferrer" class="external-link">
                <i class="fab fa-youtube"></i> YouTube'da izlemek için tıklayın
            </a>
        </p>
    </div>
</div>
            </div>
        </div>
    </div>
</div>

<style>
/* متغیرهای رنگ */
:root {
    --primary-dark-blue: #092442;
    --secondary-medium-blue: rgb(29, 97, 169);
    --accent-light-blue: #8dd4e3;
    --neutral-cream: rgb(247, 243, 233);
    --pure-white: rgb(255, 255, 255);
    --text-dark: #1a1a1a;
    --text-light: #666666;
}

/* Layout */
.main-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 20px;
}

.sidebar-wrapper {
    position: sticky;
    top: 120px;
    background: var(--pure-white);
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    padding: 20px;
    height: fit-content;
    border: 1px solid rgba(141, 212, 227, 0.2);
}

.content-wrapper {
    background: var(--pure-white);
    border-radius: 12px;
    padding: 40px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    border: 1px solid rgba(141, 212, 227, 0.2);
}

.page-intro {
    text-align: center;
    margin-bottom: 40px;
}

.section-title {
    color: var(--primary-dark-blue);
    font-size: 2.2rem;
    font-weight: 800;
    font-family: 'Metropolis', sans-serif;
    margin-bottom: 15px;
    position: relative;
    display: inline-block;
}

.section-title::after {
    content: '';
    position: absolute;
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 80px;
    height: 4px;
    background: linear-gradient(90deg, var(--secondary-medium-blue), var(--accent-light-blue));
    border-radius: 2px;
}

.section-subtitle {
    color: var(--text-light);
    font-size: 1.1rem;
    max-width: 800px;
    margin: 30px auto 0;
    line-height: 1.6;
}

.section-sub-heading {
    color: var(--primary-dark-blue);
    font-size: 1.6rem;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid rgba(141, 212, 227, 0.3);
    display: flex;
    align-items: center;
    gap: 10px;
}

.section-sub-heading i {
    color: var(--secondary-medium-blue);
}

/* کارت‌های اطلاعاتی */
.info-cards-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.info-card {
    background: linear-gradient(135deg, rgba(9, 36, 66, 0.05), rgba(29, 97, 169, 0.08));
    border-radius: 12px;
    padding: 25px;
    text-align: center;
    border-left: 4px solid var(--secondary-medium-blue);
    transition: transform 0.3s ease;
}

.info-card:hover {
    transform: translateY(-5px);
    background: linear-gradient(135deg, rgba(9, 36, 66, 0.08), rgba(29, 97, 169, 0.12));
}

.info-card-icon {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, var(--primary-dark-blue), var(--secondary-medium-blue));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 15px;
    color: white;
    font-size: 24px;
}

.info-card h5 {
    color: var(--primary-dark-blue);
    margin-bottom: 10px;
    font-size: 1.1rem;
}

.info-card-number {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--secondary-medium-blue);
    margin-bottom: 5px;
}

.info-card-desc {
    color: var(--text-light);
    font-size: 0.9rem;
    margin: 0;
}

/* امکانات */
.facilities-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.facility-card {
    background: var(--pure-white);
    border-radius: 12px;
    padding: 20px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    border: 1px solid rgba(141, 212, 227, 0.2);
    transition: all 0.3s ease;
}

.facility-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
    border-color: var(--accent-light-blue);
}

.facility-icon {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, var(--primary-dark-blue), var(--secondary-medium-blue));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 15px;
    color: white;
    font-size: 20px;
}

.facility-card h5 {
    color: var(--primary-dark-blue);
    margin-bottom: 10px;
    font-size: 1rem;
}

.facility-card p {
    color: var(--text-light);
    font-size: 0.9rem;
    margin: 0;
    line-height: 1.4;
}

/* گالری */
.gallery-description, .video-description {
    color: var(--text-light);
    margin-bottom: 30px;
}

.gallery-container {
    background: var(--pure-white);
    border-radius: 16px;
    padding: 30px;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(141, 212, 227, 0.3);
}

.gallery-main {
    margin-bottom: 30px;
    border-radius: 12px;
    overflow: hidden;
    position: relative;
}

.main-image-container {
    position: relative;
    height: 400px;
    overflow: hidden;
    border-radius: 12px;
}

#mainGalleryImage {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
}

.image-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(9, 36, 66, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.main-image-container:hover .image-overlay {
    opacity: 1;
}

.zoom-btn {
    width: 50px;
    height: 50px;
    background: rgba(255, 255, 255, 0.9);
    border: none;
    border-radius: 50%;
    color: var(--secondary-medium-blue);
    font-size: 1.2rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.zoom-btn:hover {
    background: white;
    transform: scale(1.1);
}

.image-info {
    background: linear-gradient(135deg, rgba(9, 36, 66, 0.03), rgba(29, 97, 169, 0.05));
    padding: 20px;
    border-radius: 0 0 12px 12px;
}

.image-info h4 {
    color: var(--primary-dark-blue);
    margin: 0 0 10px 0;
    font-size: 1.3rem;
}

.image-info p {
    color: var(--text-light);
    margin: 0 0 15px 0;
}

.image-counter {
    display: inline-block;
    background: var(--secondary-medium-blue);
    color: white;
    padding: 5px 15px;
    border-radius: 20px;
    font-weight: 600;
}

.gallery-thumbnails {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 15px;
    margin-bottom: 30px;
}

.thumbnail {
    position: relative;
    height: 80px;
    border-radius: 8px;
    overflow: hidden;
    cursor: pointer;
    border: 3px solid transparent;
    transition: all 0.3s ease;
}

.thumbnail:hover {
    transform: scale(1.05);
}

.thumbnail.active {
    border-color: var(--secondary-medium-blue);
}

.thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.gallery-controls {
    display: flex;
    justify-content: center;
    gap: 20px;
}

.gallery-btn {
    padding: 12px 25px;
    background: linear-gradient(135deg, var(--primary-dark-blue), var(--secondary-medium-blue));
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    transition: all 0.3s ease;
}

.gallery-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}

.gallery-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

/* ویدیو */
.video-container {
    background: var(--pure-white);
    border-radius: 16px;
    padding: 30px;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(141, 212, 227, 0.3);
}

.video-wrapper {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 aspect ratio */
    height: 0;
    overflow: hidden;
    border-radius: 12px;
    margin-bottom: 20px;
}

.video-wrapper iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: none;
}

.video-info h5 {
    color: var(--primary-dark-blue);
    margin: 0 0 10px 0;
    font-size: 1.3rem;
}

.video-info p {
    color: var(--text-light);
    margin: 0;
}

/* مدال بزرگنمایی تصویر */
.modal-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(9, 36, 66, 0.95);
    z-index: 1000;
    justify-content: center;
    align-items: center;
}

.modal-content {
    position: relative;
    max-width: 90%;
    max-height: 90%;
}

.modal-image {
    max-width: 100%;
    max-height: 100%;
    border-radius: 12px;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
}

.close-modal {
    position: absolute;
    top: -40px;
    right: -40px;
    background: white;
    border: none;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    font-size: 1.5rem;
    color: var(--primary-dark-blue);
    cursor: pointer;
    transition: all 0.3s ease;
}

.close-modal:hover {
    background: var(--accent-light-blue);
}

/* انیمیشن‌ها */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.info-card, .facility-card, .gallery-container, .video-container {
    animation: fadeInUp 0.6s ease forwards;
    opacity: 0;
}

.info-card:nth-child(1) { animation-delay: 0.1s; }
.info-card:nth-child(2) { animation-delay: 0.2s; }
.info-card:nth-child(3) { animation-delay: 0.3s; }

.facility-card:nth-child(1) { animation-delay: 0.1s; }
.facility-card:nth-child(2) { animation-delay: 0.2s; }
.facility-card:nth-child(3) { animation-delay: 0.3s; }
.facility-card:nth-child(4) { animation-delay: 0.4s; }
.facility-card:nth-child(5) { animation-delay: 0.5s; }
.facility-card:nth-child(6) { animation-delay: 0.6s; }

.gallery-container { animation-delay: 0.2s; }
.video-container { animation-delay: 0.3s; }

/* Responsive */
@media (max-width: 1200px) {
    .facilities-container {
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    }
    
    .gallery-thumbnails {
        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    }
}

@media (max-width: 992px) {
    .sidebar-wrapper {
        position: relative;
        top: 0;
        margin-bottom: 30px;
    }
    
    .content-wrapper {
        padding: 25px;
    }
    
    .main-image-container {
        height: 350px;
    }
}

@media (max-width: 768px) {
    .main-container {
        padding: 10px;
    }
    
    .section-title {
        font-size: 1.8rem;
    }
    
    .section-subtitle {
        font-size: 1rem;
    }
    
    .section-sub-heading {
        font-size: 1.4rem;
    }
    
    .facilities-container {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 15px;
    }
    
    .main-image-container {
        height: 300px;
    }
    
    .gallery-thumbnails {
        grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
        gap: 10px;
    }
    
    .thumbnail {
        height: 60px;
    }
    
    .gallery-btn {
        padding: 10px 20px;
        font-size: 0.9rem;
    }
    
    .close-modal {
        top: -30px;
        right: -30px;
        width: 30px;
        height: 30px;
        font-size: 1.2rem;
    }
}

@media (max-width: 576px) {
    .content-wrapper {
        padding: 20px;
    }
    
    .page-intro {
        margin-bottom: 30px;
    }
    
    .info-card {
        padding: 20px;
    }
    
    .info-card-icon {
        width: 50px;
        height: 50px;
        font-size: 20px;
    }
    
    .info-card-number {
        font-size: 1.5rem;
    }
    
    .facilities-container {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .main-image-container {
        height: 250px;
    }
    
    .image-info h4 {
        font-size: 1.1rem;
    }
    
    .gallery-container, .video-container {
        padding: 20px;
    }
    
    .gallery-thumbnails {
        grid-template-columns: repeat(4, 1fr);
    }
}

/* کاهش motion برای دسترسی */
@media (prefers-reduced-motion: reduce) {
    .info-card, .facility-card, .gallery-container, .video-container,
    .thumbnail, .gallery-btn, .zoom-btn, .close-modal {
        animation: none !important;
        transition: none !important;
    }
    
    .info-card:hover, .facility-card:hover, .thumbnail:hover,
    .gallery-btn:hover, .zoom-btn:hover, .close-modal:hover {
        transform: none;
    }
}
</style>

<div class="modal-overlay" id="imageModal">
    <div class="modal-content">
        <img class="modal-image" id="modalImage" src="" alt="">
        <button class="close-modal" onclick="closeModal()">
            <i class="fas fa-times"></i>
        </button>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // تنظیم تعداد کل تصاویر
    const totalImages = document.querySelectorAll('.thumbnail').length;
    document.getElementById('totalImages').textContent = totalImages;
    
    // رویداد کلیک بر روی تصاویر کوچک
    const thumbnails = document.querySelectorAll('.thumbnail');
    thumbnails.forEach(thumbnail => {
        thumbnail.addEventListener('click', function() {
            const index = this.getAttribute('data-index');
            const src = this.getAttribute('data-src');
            const title = this.getAttribute('data-title');
            const desc = this.getAttribute('data-desc');
            
            // آپدیت تصویر اصلی
            updateMainImage(index, src, title, desc);
            
            // آپدیت کلاس active
            thumbnails.forEach(t => t.classList.remove('active'));
            this.classList.add('active');
        });
    });
    
    // انیمیشن‌های هنگام اسکرول
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -100px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.animationPlayState = 'running';
            }
        });
    }, observerOptions);
    
    // مشاهده عناصر برای انیمیشن
    const animatedElements = document.querySelectorAll('.info-card, .facility-card, .gallery-container, .video-container');
    animatedElements.forEach(element => {
        observer.observe(element);
    });
});

let currentImageIndex = 1;

function updateMainImage(index, src, title, desc) {
    currentImageIndex = parseInt(index);
    
    const mainImage = document.getElementById('mainGalleryImage');
    const imageTitle = document.getElementById('imageTitle');
    const imageDesc = document.getElementById('imageDesc');
    const currentImageSpan = document.getElementById('currentImage');
    
    // انیمیشن fade out/in
    mainImage.style.opacity = '0';
    
    setTimeout(() => {
        mainImage.src = src;
        mainImage.alt = title;
        imageTitle.textContent = title;
        imageDesc.textContent = desc;
        currentImageSpan.textContent = index;
        
        mainImage.style.opacity = '1';
    }, 300);
}

function nextImage() {
    const thumbnails = document.querySelectorAll('.thumbnail');
    const nextIndex = currentImageIndex % thumbnails.length + 1;
    const nextThumbnail = document.querySelector(`.thumbnail[data-index="${nextIndex}"]`);
    
    if (nextThumbnail) {
        nextThumbnail.click();
    }
}

function prevImage() {
    const thumbnails = document.querySelectorAll('.thumbnail');
    const prevIndex = currentImageIndex > 1 ? currentImageIndex - 1 : thumbnails.length;
    const prevThumbnail = document.querySelector(`.thumbnail[data-index="${prevIndex}"]`);
    
    if (prevThumbnail) {
        prevThumbnail.click();
    }
}

function zoomImage() {
    const mainImage = document.getElementById('mainGalleryImage');
    const modalImage = document.getElementById('modalImage');
    const modal = document.getElementById('imageModal');
    
    modalImage.src = mainImage.src;
    modal.style.display = 'flex';
    document.body.style.overflow = 'hidden';
}

function closeModal() {
    const modal = document.getElementById('imageModal');
    modal.style.display = 'none';
    document.body.style.overflow = 'auto';
}

// بستن مدال با کلیک خارج از تصویر
document.getElementById('imageModal').addEventListener('click', function(e) {
    if (e.target === this) {
        closeModal();
    }
});

// کنترل کیبورد
document.addEventListener('keydown', function(e) {
    if (document.getElementById('imageModal').style.display === 'flex') {
        if (e.key === 'Escape') {
            closeModal();
        } else if (e.key === 'ArrowRight') {
            nextImage();
        } else if (e.key === 'ArrowLeft') {
            prevImage();
        }
    } else {
        if (e.key === 'ArrowRight') {
            nextImage();
        } else if (e.key === 'ArrowLeft') {
            prevImage();
        }
    }
});
</script>
{% endblock %}